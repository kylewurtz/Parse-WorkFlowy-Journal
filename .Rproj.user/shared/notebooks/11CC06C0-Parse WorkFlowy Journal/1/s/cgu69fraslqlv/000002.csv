"0","# get total interruptions for a day"
"0","getTotInter = function(t, n) {"
"0","  t = xml_child(t, n)"
"0","  t %<>% xml_attr(""text"") %>% str_split("":"")"
"0","  t = t[[1]][2] %>% str_trim() %>% as.integer()"
"0","  return(t)"
"0","}"
"0","getDaysInterruptions = function(day) {"
"0","  # get pretty date"
"0","  date = getDate(day)"
"0","  "
"0","  # get interruptions in a day"
"0","  inters = xml_children(day)[2]"
"0","  "
"0","  ## interruptions total"
"0","  inters_tot_p = getTotInter(inters, 1) # peer"
"0","  inters_tot_m = getTotInter(inters, 2) # manager"
"0","  inters_tot_s = getTotInter(inters, 3) # self"
"0","  inters_tot_o = getTotInter(inters, 4) # other"
"0","  inters_tot = sum(inters_tot_p, inters_tot_m, inters_tot_s, inters_tot_o, na.rm = T)"
"0","  "
"0","  # if no interruptions, can skip the rest of this"
"0","  if (!(is.na(inters_tot_p) & is.na(inters_tot_m) & is.na(inters_tot_s) & is.na(inters_tot_o))) {"
"0","    # only proceed if they're not all NA"
"0","    "
"0","    # add totals to days data frame"
"0","    days$inters_tot[days$day == date] = inters_tot"
"0","    days$inters_tot_p[days$day == date] = inters_tot_p"
"0","    days$inters_tot_m[days$day == date] = inters_tot_m"
"0","    days$inters_tot_s[days$day == date] = inters_tot_s"
"0","    days$inters_tot_o[days$day == date] = inters_tot_o"
"0","    "
"0","    # save result to global environment"
"0","    assign(""days"", days, envir = .GlobalEnv)"
"0","  }"
"0","}"
